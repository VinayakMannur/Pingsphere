"use strict";(self.webpackChunkchat=self.webpackChunkchat||[]).push([[845],{8845:function(e,n,t){t.r(n),t.d(n,{default:function(){return K}});var r=t(2791),i=t(1413),a=t(9439),s=t(228),c=t(4162),o=t(4565),l=t(3811),d=t(4142),u=t(662),h=t(703),x=(t(5391),t(7579)),j=t(7174),p=t(1622),f=t(8685),Z=t(788),g=t(4293),m=t(8117),v=t(8440),b=t(9434),k=t(6026),w=t(277),C=t(3978),F=t(997),E=t(5024),A=t(5798),I=t(2602),H=t(7120),V=new Map;V.set("bold",(function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M77.4,201.9l-32.3,27A8,8,0,0,1,32,222.8V64a8,8,0,0,1,8-8H216a8,8,0,0,1,8,8V192a8,8,0,0,1-8,8H82.5A7.8,7.8,0,0,0,77.4,201.9Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),V.set("duotone",(function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M78,201.3,45.1,228.9A8,8,0,0,1,32,222.8V64a8,8,0,0,1,8-8H216a8,8,0,0,1,8,8V192a8,8,0,0,1-8,8H81.7Z",opacity:"0.2"}),r.createElement("path",{d:"M77.4,201.9l-32.3,27A8,8,0,0,1,32,222.8V64a8,8,0,0,1,8-8H216a8,8,0,0,1,8,8V192a8,8,0,0,1-8,8H82.5A7.8,7.8,0,0,0,77.4,201.9Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),V.set("fill",(function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M216,48H40A16,16,0,0,0,24,64V222.8a15.7,15.7,0,0,0,9.3,14.5,16,16,0,0,0,17-2.2L82,208.4l134-.4a16,16,0,0,0,16-16V64A16,16,0,0,0,216,48Z"}))})),V.set("light",(function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M77.4,201.9l-32.3,27A8,8,0,0,1,32,222.8V64a8,8,0,0,1,8-8H216a8,8,0,0,1,8,8V192a8,8,0,0,1-8,8H82.5A7.8,7.8,0,0,0,77.4,201.9Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),V.set("thin",(function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M77.4,201.9l-32.3,27A8,8,0,0,1,32,222.8V64a8,8,0,0,1,8-8H216a8,8,0,0,1,8,8V192a8,8,0,0,1-8,8H82.5A7.8,7.8,0,0,0,77.4,201.9Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),V.set("regular",(function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M77.4,201.9l-32.3,27A8,8,0,0,1,32,222.8V64a8,8,0,0,1,8-8H216a8,8,0,0,1,8,8V192a8,8,0,0,1-8,8H82.5A7.8,7.8,0,0,0,77.4,201.9Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var _=function(e,n){return(0,I._)(e,n,V)},R=(0,r.forwardRef)((function(e,n){return r.createElement(H.Z,Object.assign({ref:n},e,{renderPath:_}))}));R.displayName="Chat";var L=R,S=t(184),W=window.localStorage.getItem("user_id"),y=(0,w.ZP)(s.Z)((function(e){e.theme;return{"&:hover":{cursor:"pointer"}}}));function q(e){var n=e.firstName,t=e.lastName,r=e.id,i=e.img,a=e.online,s=(0,d.Z)(),l="".concat(n," ").concat(t);return(0,S.jsx)(y,{sx:{width:"100%",borderRadius:1,backgroundColor:s.palette.background.paper},p:1,children:(0,S.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,S.jsxs)(c.Z,{direction:"row",alignItems:"center",spacing:1,children:["",a?(0,S.jsx)(E.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:(0,S.jsx)(C.Z,{alt:l,src:i})}):(0,S.jsx)(C.Z,{alt:l,src:i}),(0,S.jsx)(c.Z,{spacing:.3,children:(0,S.jsx)(o.Z,{variant:"subtitle2",children:l})})]}),(0,S.jsx)(c.Z,{direction:"row",spacing:2,alignItems:"center",children:(0,S.jsx)(F.Z,{onClick:function(){A.W.emit("friend_request",{to:r,from:W},(function(){alert("request-sent")}))},children:"Send Request"})})]})})}function M(e){var n=e.firstName,t=e.lastName,r=e.id,i=e.img,a=e.online,s=e.handleClose,u=(0,d.Z)(),h="".concat(n," ").concat(t);return(0,S.jsx)(y,{sx:{width:"100%",borderRadius:1,backgroundColor:u.palette.background.paper},p:1,children:(0,S.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,S.jsxs)(c.Z,{direction:"row",alignItems:"center",spacing:1,children:["",a?(0,S.jsx)(E.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:(0,S.jsx)(C.Z,{alt:h,src:i})}):(0,S.jsx)(C.Z,{alt:h,src:i}),(0,S.jsx)(c.Z,{spacing:.3,children:(0,S.jsx)(o.Z,{variant:"subtitle2",children:h})})]}),(0,S.jsx)(c.Z,{direction:"row",spacing:2,alignItems:"center",children:(0,S.jsx)(l.Z,{onClick:function(){s(),A.W.emit("start_conversation",{to:r,from:parseInt(W)})},children:(0,S.jsx)(L,{})})})]})})}function N(e){var n=e.firstName,t=e.lastName,r=e.id,i=e.img,a=e.online,s=e.rid,l=(0,d.Z)(),u="".concat(n," ").concat(t);return(0,S.jsx)(y,{sx:{width:"100%",borderRadius:1,backgroundColor:l.palette.background.paper},p:1,children:(0,S.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,S.jsxs)(c.Z,{direction:"row",alignItems:"center",spacing:1,children:["",a?(0,S.jsx)(E.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:(0,S.jsx)(C.Z,{alt:u,src:i})}):(0,S.jsx)(C.Z,{alt:u,src:i}),(0,S.jsx)(c.Z,{spacing:.3,children:(0,S.jsx)(o.Z,{variant:"subtitle2",children:u})})]}),(0,S.jsx)(c.Z,{direction:"row",spacing:2,alignItems:"center",children:(0,S.jsx)(F.Z,{onClick:function(){A.W.emit("accept_request",{request_id:s},(function(){alert("Request accepted")}))},children:"Accept Request"})})]},r)})}var O=function(){var e=(0,b.I0)();(0,r.useEffect)((function(){e((0,k.Rf)())}),[]);var n=(0,b.v9)((function(e){return e.app})).users;return(0,S.jsx)(S.Fragment,{children:n.map((function(e,n){return(0,S.jsx)(q,(0,i.Z)({},e),e.id)}))})},T=function(e){var n=e.handleClose,t=(0,b.I0)();(0,r.useEffect)((function(){t((0,k.$J)())}),[]);var a=(0,b.v9)((function(e){return e.app})).friends;return(0,S.jsx)(S.Fragment,{children:a&&a.map((function(e,t){return(0,S.jsx)(M,(0,i.Z)((0,i.Z)({},e),{},{handleClose:n}),e.id)}))})},z=function(){var e=(0,b.I0)();(0,r.useEffect)((function(){e((0,k._e)())}),[]);var n=(0,b.v9)((function(e){return e.app})).friendRequests;return(0,S.jsx)(S.Fragment,{children:n&&n.map((function(e,n){return(0,S.jsx)(N,(0,i.Z)((0,i.Z)({},e.senderUsers),{},{rid:e.id}),e.id)}))})},D=function(e){var n=e.open,t=e.handleClose,i=(0,r.useState)(0),s=(0,a.Z)(i,2),o=s[0],l=s[1];return(0,S.jsxs)(Z.Z,{fullWidth:!0,open:n,onClose:t,keepMounted:!0,children:[(0,S.jsx)(c.Z,{p:2,sx:{width:"100%"},children:(0,S.jsxs)(g.Z,{value:o,onChange:function(e,n){l(n)},centered:!0,children:[(0,S.jsx)(m.Z,{label:"Explore"}),(0,S.jsx)(m.Z,{label:"Friends"}),(0,S.jsx)(m.Z,{label:"Requests"})]})}),(0,S.jsx)(v.Z,{children:(0,S.jsx)(c.Z,{sx:{height:"100%"},children:(0,S.jsx)(c.Z,{spacing:2,children:function(){switch(o){case 0:return(0,S.jsx)(O,{});case 1:return(0,S.jsx)(T,{handleClose:t});case 2:return(0,S.jsx)(z,{})}}()})})})]})},P=t(4984),$=function(){var e=(0,d.Z)(),n=(0,b.I0)(),t=(0,f.Z)("between","md","xs","sm"),Z=(0,r.useState)(!1),g=(0,a.Z)(Z,2),m=g[0],v=g[1],w=window.localStorage.getItem("user_id"),C=(0,b.v9)((function(e){return e.conversation.direct_chat})).conversations;(0,r.useEffect)((function(){n((0,k.ND)()),A.W.emit("get_direct_conversations",{user_id:w},(function(e){n((0,P.h$)({data:e}))}))}),[]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(s.Z,{sx:{position:"relative",width:t?"100%":320,backgroundColor:"light"===e.palette.mode?"#F8FAFF":e.palette.background.paper,boxShadow:"0px 0px 2px rgba(0, 0, 0, 0.5)"},children:(0,S.jsxs)(c.Z,{p:3,spacing:2,sx:{height:"100vh"},children:[(0,S.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,S.jsx)(o.Z,{variant:"h5",children:"Chats"}),(0,S.jsx)(c.Z,{direction:"row",alignItems:"center",spacing:1,children:(0,S.jsx)(l.Z,{onClick:function(){v(!0)},children:(0,S.jsx)(u.Z,{})})})]}),(0,S.jsx)(c.Z,{sx:{width:"100%"},children:(0,S.jsxs)(j.ol,{children:[(0,S.jsx)(j.cB,{children:(0,S.jsx)(h.Z,{color:"#709CE6"})}),(0,S.jsx)(j.el,{placeholder:"Search..."})]})}),(0,S.jsx)(c.Z,{direction:"column",spacing:1.2,sx:{height:"100%",flexGrow:1,overflowY:"scroll",scrollbarWidth:"thin","&::-webkit-scrollbar":{width:"0.4em"},"&::-webkit-scrollbar-track":{background:"#f1f1f1"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#888"},"&::-webkit-scrollbar-thumb:hover":{background:"#555"}},children:(0,S.jsx)(x.l,{timeout:500,clickOnTrack:!1,children:(0,S.jsxs)(c.Z,{spacing:1,children:[(0,S.jsx)(o.Z,{variant:"subtitle2",sx:{color:"#767676"},children:"All Chats"}),C.filter((function(e){return!e.pinned})).map((function(e,n){return(0,S.jsx)(p.Z,(0,i.Z)({},e),n)}))]})})})]})}),m&&(0,S.jsx)(D,{open:m,handleClose:function(){v(!1)}})]})},B=t(2016),G=t(3201),J=t(5764),U=t(4572),Y=t(8462),K=function(){var e=(0,d.Z)(),n=(0,b.v9)((function(e){return e.app})),t=n.sidebar,r=n.chat_type,i=(0,b.v9)((function(e){return e.app.mobile})),a=i.oneToOne,l=i.contact,u=(0,b.v9)((function(e){return e.conversation.direct_chat})).conversationId,h=(0,f.Z)("between","md","xs","sm");return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(c.Z,{direction:"row",sx:{width:"100%"},children:[h&&"individual"===r&&"chats"===a?(0,S.jsx)($,{}):(0,S.jsx)(S.Fragment,{}),!h&&(0,S.jsx)($,{}),h&&"individual"===r&&null===l&&"conversation"===a?(0,S.jsx)(s.Z,{sx:{height:h?"100vh":"100%",width:"100%",backgroundColor:"light"===e.palette.mode?"#F0F4FA":e.palette.background.default},children:null!==u&&"individual"===r?(0,S.jsx)(B.Z,{}):(0,S.jsxs)(c.Z,{spacing:2,sx:{height:"100%",width:"100%"},alignItems:"center",justifyContent:"center",children:[(0,S.jsx)(Y.Z,{}),(0,S.jsx)(o.Z,{variant:"subtitle2",children:"Select a conversation or start a new one"})]})}):(0,S.jsx)(S.Fragment,{}),!h&&(0,S.jsx)(s.Z,{sx:{height:"100%",width:t.open?"calc(100vw - 720px)":"calc(100vw - 405px)",backgroundColor:"light"===e.palette.mode?"#F0F4FA":e.palette.background.default},children:null!==u&&"individual"===r?(0,S.jsx)(B.Z,{}):(0,S.jsxs)(c.Z,{spacing:2,sx:{height:"100%",width:"100%"},alignItems:"center",justifyContent:"center",children:[(0,S.jsx)(Y.Z,{}),(0,S.jsx)(o.Z,{variant:"subtitle2",children:"Select a conversation or start a new one"})]})}),!h||"onetoone"!==l&&"group"!==l?(0,S.jsx)(S.Fragment,{}):(0,S.jsx)(G.Z,{}),!h&&t.open&&function(){switch(t.type){case"CONTACT":return(0,S.jsx)(G.Z,{});case"STARRED":return(0,S.jsx)(U.Z,{});case"SHARED":return(0,S.jsx)(J.Z,{})}}()]})})}}}]);
//# sourceMappingURL=845.be588262.chunk.js.map