"use strict";(self.webpackChunkchat=self.webpackChunkchat||[]).push([[445],{1445:function(e,n,t){t.r(n),t.d(n,{default:function(){return K}});var r=t(4162),a=t(4565),u=t(2791),l=t(9439),o=t(803),i=t(3366);function c(e,n){if(null==e)return{};var t,r,a=(0,i.Z)(e,n);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(r=0;r<u.length;r++)t=u[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var f=t(3878),s=t(9199),v=t(181),d=t(5267);var p,h=t(3433),g=t(1413),m=t(168),y=t(184),x=t(277),C=t(2986),Z=t(228),j=["value","length","autoFocus","onChange","TextFieldsProps","onComplete","validateChar","className","onBlur"],F=["onPaste","onFocus","onKeyDown","className","placeholder","onBlur"],w={TextFieldStyled:(0,x.ZP)(C.Z)(p||(p=(0,m.Z)(["\n  input {\n    text-align: center;\n  }\n"])))},D=function(e){return(0,y.jsx)(w.TextFieldStyled,(0,g.Z)({},e))},R="ArrowLeft",b="ArrowRight",k="Backspace",P="Home",O="End";function A(e){return e.join("")}function T(e,n){return[].concat((0,h.Z)(e),[n])}function I(e,n,t){return e.reduce((function(e,n,r){var a=e.characters,u=e.restArrayMerged;if(r<t)return{restArrayMerged:u,characters:T(a,n)};var l,o=(l=u,(0,f.Z)(l)||(0,s.Z)(l)||(0,v.Z)(l)||(0,d.Z)()),i=o[0];return{restArrayMerged:o.slice(1),characters:T(a,i||"")}}),{restArrayMerged:n,characters:[]}).characters}function B(e){var n=u.useRef((function(){throw new Error("Cannot call an event handler while rendering.")}));return u.useInsertionEffect((function(){n.current=e})),u.useCallback((function(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return null===(e=n.current)||void 0===e?void 0:e.call.apply(e,[n].concat(r))}),[])}var E=function(){return!0},M=u.forwardRef((function(e,n){var t=e.value,r=void 0===t?"":t,a=e.length,l=void 0===a?4:a,o=e.autoFocus,i=void 0!==o&&o,f=e.onChange,s=e.TextFieldsProps,v=e.onComplete,d=e.validateChar,p=void 0===d?E:d,h=e.className,m=e.onBlur,x=c(e,j),C=u.useRef(r),w=B(v),T=B((function(e){var n=e.slice(0,l);return{isCompleted:n.length===l,finalValue:n}})),M=s||{},N=M.onPaste,S=M.onFocus,V=M.onKeyDown,K=M.className,H=M.placeholder,L=M.onBlur,q=c(M,F);u.useEffect((function(){var e=T(C.current),n=e.isCompleted,t=e.finalValue;n&&w(t)}),[l,w,T]);var z=function(e,n){return e<=0?[]:Array.from({length:e},n)}(l,(function(e,n){return{character:r[n]||"",inputRef:u.createRef()}})),G=function(e){return z.findIndex((function(n){return n.inputRef.current===e}))},J=function(){return z.map((function(e){return e.character}))},Q=function(e,n){var t=function(e,n,t){return e.map((function(e,r){return n===r?t:e}))}(J(),e,n);return A(t)},U=function(e){var n,t;null===(n=z[e])||void 0===n||null===(t=n.inputRef.current)||void 0===t||t.select()},W=function(e){e+1!==l&&(z[e+1].character?U(e+1):function(e){var n,t;null===(n=z[e])||void 0===n||null===(t=n.inputRef.current)||void 0===t||t.focus()}(e+1))},X=function(e,n){return"function"!=typeof p||p(e,n)},Y=function(e){var n=G(e.target);if(0===n&&e.target.value.length>1){var t=T(e.target.value),r=t.finalValue,a=t.isCompleted;return null!==f&&void 0!==f&&f(r),a&&null!==v&&void 0!==v&&v(r),void U(r.length-1)}var u=e.target.value[0]||"",l=u;l&&!X(l,n)&&(l="");var o=Q(n,l);null===f||void 0===f||f(o);var i=T(o),c=i.isCompleted,s=i.finalValue;c&&null!==v&&void 0!==v&&v(s),""!==l?o.length-1<n?U(o.length):W(n):""===u&&o.length<=n&&U(n-1)},$=function(e){e.preventDefault(),e.target.select(),null===S||void 0===S||S(e)},_=function(e){var n=e.target,t=n.selectionStart,r=n.selectionEnd,a=G(n),u=0===t&&0===r;if(n.value===e.key)e.preventDefault(),W(a);else if(k===e.key)if(n.value){if(u){e.preventDefault();var l=Q(a,"");null!==f&&void 0!==f&&f(l),l.length<=a&&U(a-1)}}else e.preventDefault(),U(a-1);else R===e.key?(e.preventDefault(),U(a-1)):b===e.key?(e.preventDefault(),U(a+1)):P===e.key?(e.preventDefault(),U(0)):O===e.key&&(e.preventDefault(),U(z.length-1));null===V||void 0===V||V(e)},ee=function(e){e.preventDefault();var n=e.clipboardData.getData("text/plain"),t=e.target,r=z.findIndex((function(e){var n=e.character,r=e.inputRef;return""===n||r.current===t})),a=I(J(),function(e){return e.split("")}(n),r).map((function(e,n){return X(e,n)?e:""})),u=A(a);null===f||void 0===f||f(u);var o=T(u),i=o.isCompleted,c=o.finalValue;i?(null!==v&&void 0!==v&&v(c),U(l-1)):U(u.length),null===N||void 0===N||N(e)},ne=function(e){if(null!==L&&void 0!==L&&L(e),!z.some((function(n){return n.inputRef.current===e.relatedTarget}))){var n=T(r),t=n.isCompleted,a=n.finalValue;null===m||void 0===m||m(a,t)}};return(0,y.jsx)(Z.Z,(0,g.Z)((0,g.Z)({display:"flex",gap:"20px",alignItems:"center",ref:n,className:"MuiOtpInput-Box ".concat(h||"")},x),{},{children:z.map((function(e,n){var t=e.character,r=e.inputRef;return(0,y.jsx)(D,(0,g.Z)({autoFocus:!!i&&0===n,autoComplete:"one-time-code",value:t,inputRef:r,className:"MuiOtpInput-TextField MuiOtpInput-TextField-".concat(n+1," ").concat(K||""),onPaste:ee,onFocus:$,onChange:Y,onKeyDown:_,onBlur:ne,placeholder:"function"==typeof H?H(n):H},q),n)}))}))})),N=t(9434),S=t(2492),V=function(){var e=(0,N.I0)(),n=(0,N.v9)((function(e){return e.auth})).signupEmail,t=u.useState(""),r=(0,l.Z)(t,2),a=r[0],i=r[1];return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(o.Z,{children:(0,y.jsx)(M,{display:"flex",gap:2,length:6,value:a,onChange:function(e){i(e)},onComplete:function(t){try{e((0,S.dA)({otp:t,email:n}))}catch(r){console.log(r)}},TextFieldsProps:{placeholder:"*"}})})})},K=function(){return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(r.Z,{spacing:3,sx:{my:4,position:"releative"},children:[(0,y.jsx)(a.Z,{variant:"h5",children:"Please verify the OTP"}),(0,y.jsx)(a.Z,{variant:"body2",children:"An OTP has been sent your email!"}),(0,y.jsx)(V,{})]})})}}}]);
//# sourceMappingURL=445.a423609a.chunk.js.map